SHELL = /bin/sh
VPATH = @srcdir@

srcdir = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
infodir = @infodir@
libdir = @libdir@
mandir = @mandir@

CC = @CC@
CFLAGS = @CFLAGS@
LDFLAGS = @LDFLAGS@ @LIBS@ -lutil -lid3 -lz
INSTALL = @INSTALL@

CFILES = main.c\
	err_dialog_handler.c\
	config_rw.c\
	ripper_encoder_manipulation.c\
	players_manipulation.c\
	job_control.c\
	main_window_handler.c\
	dir_window_handler.c\
	config_window_handler.c\
	select_frame_handler.c\
	status_frame_handler.c\
	cddbp.c\
	cddb.c\
	misc_utils.c\

OFILES  = $(patsubst %.c,%.o,$(CFILES))

all: ripperX

ripperX: $(OFILES)
	$(CC) $(LDFLAGS) $(OFILES) -o ripperX

.c.o:
	$(CC) $(CFLAGS) -c $<

install:
	../mkinstalldirs $(bindir)
	$(INSTALL) ripperX $(bindir)

uninstall:
	rm -f $(bindir)/ripperX

clean:
	rm -f $(OFILES)
	rm -f ripperX
	rm -f core

distclean: clean
	rm -f Makefile config.status config.cache config.log

depend:
	sed -e '/^# DO NOT DELETE THIS LINE/,$$d' Makefile > Makefile.tmp
	echo '# DO NOT DELETE THIS LINE - make depend uses it' >> Makefile.tmp
	echo '# DEPENDENCIES MUST END AT END OF FILE' >> Makefile.tmp
	$(CC) $(CFLAGS) -M $(CFILES) >> Makefile.tmp
	echo '# DEPENDENCIES MUST END AT END OF FILE' >> Makefile.tmp
	echo '# IF YOU PUT STUFF HERE IT WILL GO AWAY' >> Makefile.tmp
	echo '# see make depend above' >> Makefile.tmp
	mv -f Makefile.tmp Makefile

#----------------------------------------------------------
# DO NOT DELETE THIS LINE - make depend uses it
# DEPENDENCIES MUST END AT END OF FILE
